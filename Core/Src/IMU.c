/**
 ******************************************************************************
 * @file    IMU.c
 * @brief   IMU传感器抽象层实现
 ******************************************************************************
 */

#include "IMU.h"
#include <string.h>
#include <stddef.h>
#include <stdio.h>

/* ============================================================================
 * Private Macro Definitions
 * ============================================================================ */

/* ============================================================================
 * Private Type Definitions
 * ============================================================================ */
ICM42688P_Config icm42688p_config;

/* ============================================================================
 * Private Variables
 * ============================================================================ */

/* ============================================================================
 * Private Function Prototypes
 * ============================================================================ */

/* ============================================================================
 * Public Function Implementations
 * ============================================================================ */

/**
 * @brief 初始化IMU传感器
 * @return 0=成功, 非0=失败
 */
uint8_t IMU_Init(void)
{
    if (ICM42688P_Init() != 0)
    {
        return 1;
    }//检查IMU是否正常工作
    //TODO:未来可以添加判断EEPROM是否存在过去配置，如果存在就用非出厂模式启动，如果不存在就使用出厂测试模式流程
    //加载默认配置
    ICM42688P_LoadDefaultConfig(&icm42688p_config);

    ICM42688P_ReadGyroFactoryCalibration(&icm42688p_config);




}

void IMU_GenerateFactoryConfig(ICM42688P_Config *config)
{

}
