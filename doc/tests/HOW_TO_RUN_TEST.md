# å¦‚ä½•è¿è¡Œæµ‹è¯•ç¨‹åº

## ğŸ“‹ å¿«é€Ÿå¯ç”¨æµ‹è¯•ï¼ˆ3æ­¥ï¼‰

### æ­¥éª¤ 1: å¯ç”¨æµ‹è¯•æ–‡ä»¶ç¼–è¯‘

ç¼–è¾‘ `CMakeLists.txt` (ç¬¬49è¡Œ)ï¼š

```cmake
# å–æ¶ˆæ³¨é‡Šè¿™ä¸€è¡Œ
Core/Src/ICM42688P_Test.c  # æµ‹è¯•ç¨‹åº
```

### æ­¥éª¤ 2: åŒ…å«æµ‹è¯•å¤´æ–‡ä»¶

ç¼–è¾‘ `Core/Src/main.c` (ç¬¬26è¡Œ)ï¼š

```c
// å–æ¶ˆæ³¨é‡Šè¿™ä¸€è¡Œ
#include "ICM42688P_Test.h"  // æµ‹è¯•ç¨‹åº
```

### æ­¥éª¤ 3: å¯ç”¨æµ‹è¯•ä»£ç 

ç¼–è¾‘ `Core/Src/main.c` (ç¬¬83-85è¡Œå’Œ230-242è¡Œ)ï¼š

**å˜é‡å£°æ˜**ï¼š
```c
// å–æ¶ˆè¿™ä¸¤è¡Œçš„æ³¨é‡Š
ICM42688P_Config ReadAllConfig;
ICM42688P_Config TestConfig;
```

**æµ‹è¯•å˜é‡**ï¼ˆç¬¬176-177è¡Œï¼‰ï¼š
```c
// å–æ¶ˆè¿™ä¸¤è¡Œçš„æ³¨é‡Š
uint8_t regbuffer[4096];
uint16_t size = 0;
```

**æµ‹è¯•è°ƒç”¨**ï¼ˆç¬¬230-242è¡Œï¼‰ï¼š
```c
// å–æ¶ˆæ‰€æœ‰æµ‹è¯•ç›¸å…³ä»£ç çš„æ³¨é‡Š
HAL_UART_Transmit(&huart2, (const unsigned char *)"\r\nå¯åŠ¨æµ‹è¯•éªŒè¯...\r\n", 
                  strlen("\r\nå¯åŠ¨æµ‹è¯•éªŒè¯...\r\n"), 1000);
HAL_Delay(100);

// è¿è¡Œå®Œæ•´æµ‹è¯•ï¼ˆå¦‚éœ€å¿«é€ŸéªŒè¯å¯æ”¹ä¸º ICM42688P_RunQuickTestï¼‰
ICM42688P_RunAllTests();

// å¯é€‰ï¼šæ‰“å°æœ€ç»ˆé…ç½®çŠ¶æ€
ICM42688P_ReadAllConfigRegisters(&ReadAllConfig);
size = ICM42688P_FormatRegisters(&ReadAllConfig, (char *)regbuffer, 4096);
HAL_UART_Transmit(&huart2, (const unsigned char *)"\r\n=== æœ€ç»ˆé…ç½®çŠ¶æ€ ===\r\n",
                  strlen("\r\n=== æœ€ç»ˆé…ç½®çŠ¶æ€ ===\r\n"), 1000);
HAL_UART_Transmit(&huart2, (const unsigned char *)regbuffer, size, 1000);
```

### æ­¥éª¤ 4: ç¼–è¯‘å¹¶è¿è¡Œ

```bash
make clean && make -j8
# çƒ§å½•åˆ°å¼€å‘æ¿
# é€šè¿‡ä¸²å£ï¼ˆ115200æ³¢ç‰¹ç‡ï¼‰æŸ¥çœ‹æµ‹è¯•ç»“æœ
```

## âš¡ å¿«é€Ÿæµ‹è¯•æ¨¡å¼

å¦‚æœåªéœ€è¦å¿«é€ŸéªŒè¯æ ¸å¿ƒåŠŸèƒ½ï¼ˆ~10ç§’ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ï¼š

```c
ICM42688P_RunQuickTest();  // ä»£æ›¿ ICM42688P_RunAllTests()
```

## ğŸ”„ ç¦ç”¨æµ‹è¯•ï¼ˆæ¢å¤å½“å‰çŠ¶æ€ï¼‰

åªéœ€é‡æ–°æ³¨é‡Šæ‰ä¸Šè¿°3ä¸ªä½ç½®çš„ä»£ç å³å¯ã€‚

## ğŸ“ æç¤º

- âœ… æµ‹è¯•æ–‡ä»¶ä¿ç•™åœ¨ `Core/Src/ICM42688P_Test.c` æ–¹ä¾¿éšæ—¶å¯ç”¨
- âœ… å­˜æ¡£åœ¨ `doc/tests/` ä½œä¸ºå¤‡ä»½
- âœ… æµ‹è¯•é€šè¿‡åè®°å¾—ç¦ç”¨ä»¥å‡å°‘Flashå ç”¨ï¼ˆçº¦6-7KBï¼‰

---

**å¿«é€Ÿå‚è€ƒ**: 
- [æµ‹è¯•æŒ‡å—](Test_Guide.md)
- [æµ‹è¯•æŠ¥å‘Š](Test_Report_v1.0.md)
- [å¿«é€Ÿä¸Šæ‰‹](Test_QuickStart.md)

